{"version":3,"sources":["webpack:///./src/views/Cart.vue?7ea5","webpack:///./src/views/Cart.vue?5d33","webpack:///src/views/Cart.vue","webpack:///./src/views/Cart.vue?4777","webpack:///./src/views/Cart.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","on","$event","staticClass","_m","_l","cart","item","key","id","style","product","_v","_s","title","_e","_f","price","directives","name","rawName","value","expression","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","changeCart","qty","product_id","num","domProps","unit","preventDefault","removeCart","final_total","total","coupons","type","indexOf","_k","keyCode","useCoupon","composing","staticRenderFns","component"],"mappings":"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","file":"js/chunk-1e2d5824.89194d35.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=style&index=0&id=7a249341&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=style&index=0&id=7a249341&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"container my-5\"},[_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-md-10\"},[_vm._m(0),_c('table',{staticClass:\"table table-hover my-5 cart_table\"},[_vm._m(1),_c('tbody',_vm._l((_vm.cart.carts),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"align-middle\"},[_c('div',{staticClass:\"d-flex justify-content-start\"},[_c('div',{staticClass:\"imgSize\",style:((\"background-image:url('\" + (item.product.imageUrl) + \"');\"))}),_c('div',{staticClass:\"align-self-center ml-4\"},[_c('span',{},[_vm._v(_vm._s(item.product.title))]),(item.coupon)?_c('div',{staticClass:\"text-success\"},[_vm._v(\"已套用優惠券\")]):_vm._e()])])]),_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.product.price)))]),_c('td',{staticClass:\"align-middle\"},[_c('div',{staticClass:\"d-flex justify-content-start text-center\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.qty),expression:\"item.qty\"}],staticClass:\"form-control\",attrs:{\"id\":\"cartNum\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(item, \"qty\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.changeCart(item.id, item.qty, item.product_id)}]}},_vm._l((20),function(num){return _c('option',{key:num,domProps:{\"value\":num}},[_vm._v(_vm._s(num))])}),0),_c('div',{staticClass:\"align-self-center ml-3\"},[_vm._v(_vm._s(item.product.unit))])])]),_c('td',{staticClass:\"align-middle text-right\"},[_c('span',{},[_vm._v(_vm._s(_vm._f(\"currency\")(item.product.price * item.qty)))])]),_c('td',{staticClass:\"align-middle text-center\"},[_c('button',{staticClass:\"btn btn-outline-danger btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.removeCart(item.id)}}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])}),0),_c('tfoot',[(_vm.cart.final_total === _vm.cart.total)?_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"6\"}},[_vm._v(\" 合計： \"),_c('span',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.cart.total)))])])]):_vm._e(),(_vm.cart.final_total !== _vm.cart.total)?_c('tr',[_c('td',{staticClass:\"text-right text-secondary\",attrs:{\"colspan\":\"6\"}},[_vm._v(\" 折扣前合計：\"),_c('span',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.cart.total)))])])]):_vm._e(),(_vm.cart.final_total !== _vm.cart.total)?_c('tr',[_c('td',{staticClass:\"h5 text-right\",attrs:{\"colspan\":\"6\"}},[_vm._v(\" 折扣後合計：\"),_c('span',{staticClass:\"h4 text-danger\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.cart.final_total)))])])]):_vm._e()])]),_c('div',{staticClass:\"input-group mb-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.coupons.code),expression:\"coupons.code\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"請輸入優惠碼\"},domProps:{\"value\":(_vm.coupons.code)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.useCoupon($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.coupons, \"code\", $event.target.value)}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-minor\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.useCoupon($event)}}},[_vm._v(\"套用優惠碼\")])])]),_c('div',{staticClass:\"d-flex justify-content-end mt-4\"},[_c('router-link',{staticClass:\"btn btn-minor\",attrs:{\"to\":\"/order\"}},[_vm._v(\"下一步\")])],1)])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row justify-content-around process_style\"},[_c('div',{staticClass:\"col-md-3 p-2 rounded-pill process_now text-center\"},[_vm._v(\"1.購物車內容\")]),_c('div',{staticClass:\"col-md-3 p-2 rounded-pill process_undone text-center my-3 my-md-0\"},[_vm._v(\"2.訂單填寫\")]),_c('div',{staticClass:\"col-md-3 p-2 rounded-pill process_undone text-center\"},[_vm._v(\"3.結帳\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',{},[_c('tr',{},[_c('th',{attrs:{\"width\":\"250\"}},[_vm._v(\"商品資訊\")]),_c('th',{staticClass:\"text-center\",attrs:{\"width\":\"80\"}},[_vm._v(\"單價\")]),_c('th',{staticClass:\"text-center\",attrs:{\"width\":\"80\"}},[_vm._v(\"數量\")]),_c('th',{staticClass:\"text-center\",attrs:{\"width\":\"80\"}},[_vm._v(\"小計\")]),_c('th',{staticClass:\"text-center\",attrs:{\"width\":\"60\"}},[_vm._v(\"操作\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n   <div>\r\n      <loading :active.sync=\"isLoading\"></loading>\r\n      <div class=\"container my-5\">\r\n         <div class=\"row justify-content-center\">\r\n            <div class=\"col-md-10\">\r\n               <div class=\"row justify-content-around process_style\">\r\n                  <div class=\"col-md-3 p-2 rounded-pill process_now text-center\">1.購物車內容</div>\r\n                  <div\r\n                  class=\"col-md-3 p-2 rounded-pill process_undone text-center my-3 my-md-0\"\r\n                  >2.訂單填寫</div>\r\n                  <div class=\"col-md-3 p-2 rounded-pill process_undone text-center\">3.結帳</div>\r\n               </div>\r\n\r\n               <table class=\"table table-hover my-5 cart_table\">\r\n                  <thead class=\"\">\r\n                     <tr class=\"\">\r\n                        <th width=\"250\">商品資訊</th>\r\n                        <th width=\"80\" class=\"text-center\">單價</th>\r\n                        <th width=\"80\" class=\"text-center\">數量</th>\r\n                        <th width=\"80\" class=\"text-center\">小計</th>\r\n                        <th width=\"60\" class=\"text-center\">操作</th>\r\n                     </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                     <tr v-for=\"item in cart.carts\" :key=\"item.id\">\r\n                        <td class=\"align-middle\">\r\n                           <div class=\"d-flex justify-content-start\">\r\n                              <div class=\"imgSize\" :style=\"`background-image:url('${item.product.imageUrl}');`\">\r\n                              </div>\r\n                              <div class=\"align-self-center ml-4\">\r\n                                 <span class=\"\">{{item.product.title}}</span>\r\n                                 <div class=\"text-success\" v-if=\"item.coupon\">已套用優惠券</div>\r\n                              </div>\r\n                           </div>\r\n                        </td>\r\n                        <td class=\"align-middle text-right\">{{ item.product.price | currency }}</td>\r\n                        <td class=\"align-middle\">\r\n                           <div class=\"d-flex justify-content-start text-center\">\r\n                              <select id=\"cartNum\" class=\"form-control\" \r\n                              v-model=\"item.qty\" \r\n                              @change=\"changeCart(item.id, item.qty, item.product_id)\">\r\n                                 <option :value=\"num\" v-for=\"num in 20\" :key=\"num\">{{num}}</option>\r\n                              </select>\r\n                              <div class=\"align-self-center ml-3\">{{ item.product.unit }}</div>\r\n                           </div>\r\n                        </td>\r\n                        <td class=\"align-middle text-right\">\r\n                           <span class>{{item.product.price * item.qty |currency}}</span>\r\n                        </td>\r\n                        <td class=\"align-middle text-center\">\r\n                           <button type=\"button\" class=\"btn btn-outline-danger btn-sm\" @click.prevent=\"removeCart(item.id)\">\r\n                              <i class=\"far fa-trash-alt\"></i>\r\n                           </button>\r\n                        </td>\r\n                     </tr>\r\n                  </tbody>\r\n\r\n                  <tfoot>\r\n                     <tr v-if=\"cart.final_total === cart.total\">\r\n                        <td colspan=\"6\" class=\"text-right\">\r\n                           合計：\r\n                           <span>{{ cart.total|currency }}</span>\r\n                        </td>\r\n                     </tr>\r\n                     <tr v-if=\"cart.final_total !== cart.total\">\r\n                        <td colspan=\"6\" class=\"text-right text-secondary\">\r\n                           折扣前合計：<span>{{ cart.total|currency }}</span>\r\n                        </td>\r\n                     </tr>\r\n                     <tr v-if=\"cart.final_total !== cart.total\">\r\n                        <td colspan=\"6\" class=\"h5 text-right\">\r\n                           折扣後合計：<span class=\"h4 text-danger\">{{ cart.final_total|currency }}</span>\r\n                        </td>\r\n                     </tr>\r\n                  </tfoot>\r\n\r\n               </table>\r\n\r\n               <div class=\"input-group mb-3\">\r\n                  <input type=\"text\" class=\"form-control\" v-model=\"coupons.code\" placeholder=\"請輸入優惠碼\" @keyup.enter=\"useCoupon\" />\r\n                  <div class=\"input-group-append\">\r\n                     <button class=\"btn btn-outline-minor\" @click.prevent=\"useCoupon\" type=\"button\"\r\n                     >套用優惠碼</button>\r\n                  </div>\r\n               </div>\r\n\r\n               <div class=\"d-flex justify-content-end mt-4\">\r\n                  <router-link class=\"btn btn-minor\" to=\"/order\">下一步</router-link>\r\n               </div>\r\n\r\n            </div>\r\n         </div>\r\n         \r\n      </div>\r\n   </div>\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery';\r\n\r\nexport default {\r\n   data() {\r\n      return {\r\n         isLoading: false,\r\n         quantity: 1,\r\n         cart: {\r\n            carts: {}\r\n         },\r\n\r\n         coupons: {\r\n            code: \"\"\r\n         },\r\n      }\r\n   },\r\n   methods: {\r\n      getCart() {\r\n         const vm = this;\r\n         const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOM}/cart`;\r\n         vm.isLoading = true;\r\n         vm.$http.get(api).then(res => {\r\n            if (res.data.success) {\r\n               vm.cart = res.data.data;\r\n               console.log('getCart',vm.cart);\r\n               vm.isLoading = false;\r\n            }\r\n         });\r\n      },\r\n      removeCart(id) {\r\n         const vm = this;\r\n         const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOM}/cart/${id}`;\r\n         vm.isLoading = true;\r\n         vm.$http.delete(api).then((res) => {\r\n            console.log('removeCart',res.data);\r\n            vm.$bus.$emit(\"upDateCart\");\r\n            vm.isLoading = false;\r\n            vm.getCart();\r\n         });\r\n      },\r\n\r\n      useCoupon () {\r\n         const vm = this;\r\n         vm.isLoading = true;\r\n         const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOM}/coupon`;\r\n         vm.$http.post(api, { data: vm.coupons }).then(response => {\r\n            // console.log(\"套用Coupon：\", response);\r\n            if (response.data.success) {\r\n               vm.getCart();\r\n               vm.isLoading = false;\r\n            } else {\r\n               vm.coupons.code = \"\";\r\n               vm.isLoading = false;\r\n            }\r\n         })\r\n      },\r\n\r\n      changeCart(orderId, num, id) {\r\n         const vm = this;\r\n         const removeUrl = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOM}/cart/${orderId}`;\r\n\r\n         vm.isLoading = true;\r\n         this.$http.delete(removeUrl).then((res) => {\r\n\r\n            const changeData = {\r\n               product_id: id,\r\n               qty: num\r\n            };\r\n            const addUrl = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOM}/cart`;\r\n\r\n            this.$http.post(addUrl, {data: changeData}).then(res => {\r\n               if(res.data.success) {\r\n                  vm.$bus.$emit(\"upDateCart\");\r\n                  vm.getCart();\r\n               }\r\n            });\r\n            vm.isLoading = false;\r\n         });\r\n      }\r\n   },\r\n\r\n   created() {\r\n      const vm = this;\r\n      vm.getCart();\r\n   },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n   //@import \"@/assets/elements/_Cart.scss\";\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=7a249341&scoped=true&\"\nimport script from \"./Cart.vue?vue&type=script&lang=js&\"\nexport * from \"./Cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Cart.vue?vue&type=style&index=0&id=7a249341&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7a249341\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}